var _ObsidianEvent_one_of_decls, _CreateEvent_one_of_decls, _DeleteEvent_one_of_decls, _RenameEvent_one_of_decls, _ModifyEvent_one_of_decls, _FileOpenEvent_one_of_decls, _Empty_one_of_decls;
import { __classPrivateFieldGet } from "tslib";
/**
 * Generated by the protoc-gen-ts.  DO NOT EDIT!
 * compiler version: 3.20.3
 * source: proto/obsidan-events.proto
 * git: https://github.com/thesayyn/protoc-gen-ts */
import * as pb_1 from "google-protobuf";
import * as grpc_1 from "@grpc/grpc-js";
export class ObsidianEvent extends pb_1.Message {
    constructor(data) {
        super();
        _ObsidianEvent_one_of_decls.set(this, [[2, 3, 4, 5, 6]]);
        pb_1.Message.initialize(this, Array.isArray(data) ? data : [], 0, -1, [], __classPrivateFieldGet(this, _ObsidianEvent_one_of_decls, "f"));
        if (!Array.isArray(data) && typeof data == "object") {
            if ("timestamp" in data && data.timestamp != undefined) {
                this.timestamp = data.timestamp;
            }
            if ("create" in data && data.create != undefined) {
                this.create = data.create;
            }
            if ("delete" in data && data.delete != undefined) {
                this.delete = data.delete;
            }
            if ("rename" in data && data.rename != undefined) {
                this.rename = data.rename;
            }
            if ("modify" in data && data.modify != undefined) {
                this.modify = data.modify;
            }
            if ("fileOpen" in data && data.fileOpen != undefined) {
                this.fileOpen = data.fileOpen;
            }
        }
    }
    get timestamp() {
        return pb_1.Message.getFieldWithDefault(this, 1, 0);
    }
    set timestamp(value) {
        pb_1.Message.setField(this, 1, value);
    }
    get create() {
        return pb_1.Message.getWrapperField(this, CreateEvent, 2);
    }
    set create(value) {
        pb_1.Message.setOneofWrapperField(this, 2, __classPrivateFieldGet(this, _ObsidianEvent_one_of_decls, "f")[0], value);
    }
    get has_create() {
        return pb_1.Message.getField(this, 2) != null;
    }
    get delete() {
        return pb_1.Message.getWrapperField(this, DeleteEvent, 3);
    }
    set delete(value) {
        pb_1.Message.setOneofWrapperField(this, 3, __classPrivateFieldGet(this, _ObsidianEvent_one_of_decls, "f")[0], value);
    }
    get has_delete() {
        return pb_1.Message.getField(this, 3) != null;
    }
    get rename() {
        return pb_1.Message.getWrapperField(this, RenameEvent, 4);
    }
    set rename(value) {
        pb_1.Message.setOneofWrapperField(this, 4, __classPrivateFieldGet(this, _ObsidianEvent_one_of_decls, "f")[0], value);
    }
    get has_rename() {
        return pb_1.Message.getField(this, 4) != null;
    }
    get modify() {
        return pb_1.Message.getWrapperField(this, ModifyEvent, 5);
    }
    set modify(value) {
        pb_1.Message.setOneofWrapperField(this, 5, __classPrivateFieldGet(this, _ObsidianEvent_one_of_decls, "f")[0], value);
    }
    get has_modify() {
        return pb_1.Message.getField(this, 5) != null;
    }
    get fileOpen() {
        return pb_1.Message.getWrapperField(this, FileOpenEvent, 6);
    }
    set fileOpen(value) {
        pb_1.Message.setOneofWrapperField(this, 6, __classPrivateFieldGet(this, _ObsidianEvent_one_of_decls, "f")[0], value);
    }
    get has_fileOpen() {
        return pb_1.Message.getField(this, 6) != null;
    }
    get event() {
        const cases = {
            0: "none",
            2: "create",
            3: "delete",
            4: "rename",
            5: "modify",
            6: "fileOpen"
        };
        return cases[pb_1.Message.computeOneofCase(this, [2, 3, 4, 5, 6])];
    }
    static fromObject(data) {
        const message = new ObsidianEvent({});
        if (data.timestamp != null) {
            message.timestamp = data.timestamp;
        }
        if (data.create != null) {
            message.create = CreateEvent.fromObject(data.create);
        }
        if (data.delete != null) {
            message.delete = DeleteEvent.fromObject(data.delete);
        }
        if (data.rename != null) {
            message.rename = RenameEvent.fromObject(data.rename);
        }
        if (data.modify != null) {
            message.modify = ModifyEvent.fromObject(data.modify);
        }
        if (data.fileOpen != null) {
            message.fileOpen = FileOpenEvent.fromObject(data.fileOpen);
        }
        return message;
    }
    toObject() {
        const data = {};
        if (this.timestamp != null) {
            data.timestamp = this.timestamp;
        }
        if (this.create != null) {
            data.create = this.create.toObject();
        }
        if (this.delete != null) {
            data.delete = this.delete.toObject();
        }
        if (this.rename != null) {
            data.rename = this.rename.toObject();
        }
        if (this.modify != null) {
            data.modify = this.modify.toObject();
        }
        if (this.fileOpen != null) {
            data.fileOpen = this.fileOpen.toObject();
        }
        return data;
    }
    serialize(w) {
        const writer = w || new pb_1.BinaryWriter();
        if (this.timestamp != 0)
            writer.writeInt64(1, this.timestamp);
        if (this.has_create)
            writer.writeMessage(2, this.create, () => this.create.serialize(writer));
        if (this.has_delete)
            writer.writeMessage(3, this.delete, () => this.delete.serialize(writer));
        if (this.has_rename)
            writer.writeMessage(4, this.rename, () => this.rename.serialize(writer));
        if (this.has_modify)
            writer.writeMessage(5, this.modify, () => this.modify.serialize(writer));
        if (this.has_fileOpen)
            writer.writeMessage(6, this.fileOpen, () => this.fileOpen.serialize(writer));
        if (!w)
            return writer.getResultBuffer();
    }
    static deserialize(bytes) {
        const reader = bytes instanceof pb_1.BinaryReader ? bytes : new pb_1.BinaryReader(bytes), message = new ObsidianEvent();
        while (reader.nextField()) {
            if (reader.isEndGroup())
                break;
            switch (reader.getFieldNumber()) {
                case 1:
                    message.timestamp = reader.readInt64();
                    break;
                case 2:
                    reader.readMessage(message.create, () => message.create = CreateEvent.deserialize(reader));
                    break;
                case 3:
                    reader.readMessage(message.delete, () => message.delete = DeleteEvent.deserialize(reader));
                    break;
                case 4:
                    reader.readMessage(message.rename, () => message.rename = RenameEvent.deserialize(reader));
                    break;
                case 5:
                    reader.readMessage(message.modify, () => message.modify = ModifyEvent.deserialize(reader));
                    break;
                case 6:
                    reader.readMessage(message.fileOpen, () => message.fileOpen = FileOpenEvent.deserialize(reader));
                    break;
                default: reader.skipField();
            }
        }
        return message;
    }
    serializeBinary() {
        return this.serialize();
    }
    static deserializeBinary(bytes) {
        return ObsidianEvent.deserialize(bytes);
    }
}
_ObsidianEvent_one_of_decls = new WeakMap();
export class CreateEvent extends pb_1.Message {
    constructor(data) {
        super();
        _CreateEvent_one_of_decls.set(this, []);
        pb_1.Message.initialize(this, Array.isArray(data) ? data : [], 0, -1, [], __classPrivateFieldGet(this, _CreateEvent_one_of_decls, "f"));
        if (!Array.isArray(data) && typeof data == "object") {
            if ("filePath" in data && data.filePath != undefined) {
                this.filePath = data.filePath;
            }
        }
    }
    get filePath() {
        return pb_1.Message.getFieldWithDefault(this, 1, "");
    }
    set filePath(value) {
        pb_1.Message.setField(this, 1, value);
    }
    static fromObject(data) {
        const message = new CreateEvent({});
        if (data.filePath != null) {
            message.filePath = data.filePath;
        }
        return message;
    }
    toObject() {
        const data = {};
        if (this.filePath != null) {
            data.filePath = this.filePath;
        }
        return data;
    }
    serialize(w) {
        const writer = w || new pb_1.BinaryWriter();
        if (this.filePath.length)
            writer.writeString(1, this.filePath);
        if (!w)
            return writer.getResultBuffer();
    }
    static deserialize(bytes) {
        const reader = bytes instanceof pb_1.BinaryReader ? bytes : new pb_1.BinaryReader(bytes), message = new CreateEvent();
        while (reader.nextField()) {
            if (reader.isEndGroup())
                break;
            switch (reader.getFieldNumber()) {
                case 1:
                    message.filePath = reader.readString();
                    break;
                default: reader.skipField();
            }
        }
        return message;
    }
    serializeBinary() {
        return this.serialize();
    }
    static deserializeBinary(bytes) {
        return CreateEvent.deserialize(bytes);
    }
}
_CreateEvent_one_of_decls = new WeakMap();
export class DeleteEvent extends pb_1.Message {
    constructor(data) {
        super();
        _DeleteEvent_one_of_decls.set(this, []);
        pb_1.Message.initialize(this, Array.isArray(data) ? data : [], 0, -1, [], __classPrivateFieldGet(this, _DeleteEvent_one_of_decls, "f"));
        if (!Array.isArray(data) && typeof data == "object") {
            if ("filePath" in data && data.filePath != undefined) {
                this.filePath = data.filePath;
            }
        }
    }
    get filePath() {
        return pb_1.Message.getFieldWithDefault(this, 1, "");
    }
    set filePath(value) {
        pb_1.Message.setField(this, 1, value);
    }
    static fromObject(data) {
        const message = new DeleteEvent({});
        if (data.filePath != null) {
            message.filePath = data.filePath;
        }
        return message;
    }
    toObject() {
        const data = {};
        if (this.filePath != null) {
            data.filePath = this.filePath;
        }
        return data;
    }
    serialize(w) {
        const writer = w || new pb_1.BinaryWriter();
        if (this.filePath.length)
            writer.writeString(1, this.filePath);
        if (!w)
            return writer.getResultBuffer();
    }
    static deserialize(bytes) {
        const reader = bytes instanceof pb_1.BinaryReader ? bytes : new pb_1.BinaryReader(bytes), message = new DeleteEvent();
        while (reader.nextField()) {
            if (reader.isEndGroup())
                break;
            switch (reader.getFieldNumber()) {
                case 1:
                    message.filePath = reader.readString();
                    break;
                default: reader.skipField();
            }
        }
        return message;
    }
    serializeBinary() {
        return this.serialize();
    }
    static deserializeBinary(bytes) {
        return DeleteEvent.deserialize(bytes);
    }
}
_DeleteEvent_one_of_decls = new WeakMap();
export class RenameEvent extends pb_1.Message {
    constructor(data) {
        super();
        _RenameEvent_one_of_decls.set(this, []);
        pb_1.Message.initialize(this, Array.isArray(data) ? data : [], 0, -1, [], __classPrivateFieldGet(this, _RenameEvent_one_of_decls, "f"));
        if (!Array.isArray(data) && typeof data == "object") {
            if ("newPath" in data && data.newPath != undefined) {
                this.newPath = data.newPath;
            }
            if ("oldPath" in data && data.oldPath != undefined) {
                this.oldPath = data.oldPath;
            }
        }
    }
    get newPath() {
        return pb_1.Message.getFieldWithDefault(this, 1, "");
    }
    set newPath(value) {
        pb_1.Message.setField(this, 1, value);
    }
    get oldPath() {
        return pb_1.Message.getFieldWithDefault(this, 2, "");
    }
    set oldPath(value) {
        pb_1.Message.setField(this, 2, value);
    }
    static fromObject(data) {
        const message = new RenameEvent({});
        if (data.newPath != null) {
            message.newPath = data.newPath;
        }
        if (data.oldPath != null) {
            message.oldPath = data.oldPath;
        }
        return message;
    }
    toObject() {
        const data = {};
        if (this.newPath != null) {
            data.newPath = this.newPath;
        }
        if (this.oldPath != null) {
            data.oldPath = this.oldPath;
        }
        return data;
    }
    serialize(w) {
        const writer = w || new pb_1.BinaryWriter();
        if (this.newPath.length)
            writer.writeString(1, this.newPath);
        if (this.oldPath.length)
            writer.writeString(2, this.oldPath);
        if (!w)
            return writer.getResultBuffer();
    }
    static deserialize(bytes) {
        const reader = bytes instanceof pb_1.BinaryReader ? bytes : new pb_1.BinaryReader(bytes), message = new RenameEvent();
        while (reader.nextField()) {
            if (reader.isEndGroup())
                break;
            switch (reader.getFieldNumber()) {
                case 1:
                    message.newPath = reader.readString();
                    break;
                case 2:
                    message.oldPath = reader.readString();
                    break;
                default: reader.skipField();
            }
        }
        return message;
    }
    serializeBinary() {
        return this.serialize();
    }
    static deserializeBinary(bytes) {
        return RenameEvent.deserialize(bytes);
    }
}
_RenameEvent_one_of_decls = new WeakMap();
export class ModifyEvent extends pb_1.Message {
    constructor(data) {
        super();
        _ModifyEvent_one_of_decls.set(this, []);
        pb_1.Message.initialize(this, Array.isArray(data) ? data : [], 0, -1, [], __classPrivateFieldGet(this, _ModifyEvent_one_of_decls, "f"));
        if (!Array.isArray(data) && typeof data == "object") {
            if ("filePath" in data && data.filePath != undefined) {
                this.filePath = data.filePath;
            }
        }
    }
    get filePath() {
        return pb_1.Message.getFieldWithDefault(this, 1, "");
    }
    set filePath(value) {
        pb_1.Message.setField(this, 1, value);
    }
    static fromObject(data) {
        const message = new ModifyEvent({});
        if (data.filePath != null) {
            message.filePath = data.filePath;
        }
        return message;
    }
    toObject() {
        const data = {};
        if (this.filePath != null) {
            data.filePath = this.filePath;
        }
        return data;
    }
    serialize(w) {
        const writer = w || new pb_1.BinaryWriter();
        if (this.filePath.length)
            writer.writeString(1, this.filePath);
        if (!w)
            return writer.getResultBuffer();
    }
    static deserialize(bytes) {
        const reader = bytes instanceof pb_1.BinaryReader ? bytes : new pb_1.BinaryReader(bytes), message = new ModifyEvent();
        while (reader.nextField()) {
            if (reader.isEndGroup())
                break;
            switch (reader.getFieldNumber()) {
                case 1:
                    message.filePath = reader.readString();
                    break;
                default: reader.skipField();
            }
        }
        return message;
    }
    serializeBinary() {
        return this.serialize();
    }
    static deserializeBinary(bytes) {
        return ModifyEvent.deserialize(bytes);
    }
}
_ModifyEvent_one_of_decls = new WeakMap();
export class FileOpenEvent extends pb_1.Message {
    constructor(data) {
        super();
        _FileOpenEvent_one_of_decls.set(this, []);
        pb_1.Message.initialize(this, Array.isArray(data) ? data : [], 0, -1, [], __classPrivateFieldGet(this, _FileOpenEvent_one_of_decls, "f"));
        if (!Array.isArray(data) && typeof data == "object") {
            if ("filePath" in data && data.filePath != undefined) {
                this.filePath = data.filePath;
            }
        }
    }
    get filePath() {
        return pb_1.Message.getFieldWithDefault(this, 1, "");
    }
    set filePath(value) {
        pb_1.Message.setField(this, 1, value);
    }
    static fromObject(data) {
        const message = new FileOpenEvent({});
        if (data.filePath != null) {
            message.filePath = data.filePath;
        }
        return message;
    }
    toObject() {
        const data = {};
        if (this.filePath != null) {
            data.filePath = this.filePath;
        }
        return data;
    }
    serialize(w) {
        const writer = w || new pb_1.BinaryWriter();
        if (this.filePath.length)
            writer.writeString(1, this.filePath);
        if (!w)
            return writer.getResultBuffer();
    }
    static deserialize(bytes) {
        const reader = bytes instanceof pb_1.BinaryReader ? bytes : new pb_1.BinaryReader(bytes), message = new FileOpenEvent();
        while (reader.nextField()) {
            if (reader.isEndGroup())
                break;
            switch (reader.getFieldNumber()) {
                case 1:
                    message.filePath = reader.readString();
                    break;
                default: reader.skipField();
            }
        }
        return message;
    }
    serializeBinary() {
        return this.serialize();
    }
    static deserializeBinary(bytes) {
        return FileOpenEvent.deserialize(bytes);
    }
}
_FileOpenEvent_one_of_decls = new WeakMap();
export class Empty extends pb_1.Message {
    constructor(data) {
        super();
        _Empty_one_of_decls.set(this, []);
        pb_1.Message.initialize(this, Array.isArray(data) ? data : [], 0, -1, [], __classPrivateFieldGet(this, _Empty_one_of_decls, "f"));
        if (!Array.isArray(data) && typeof data == "object") { }
    }
    static fromObject(data) {
        const message = new Empty({});
        return message;
    }
    toObject() {
        const data = {};
        return data;
    }
    serialize(w) {
        const writer = w || new pb_1.BinaryWriter();
        if (!w)
            return writer.getResultBuffer();
    }
    static deserialize(bytes) {
        const reader = bytes instanceof pb_1.BinaryReader ? bytes : new pb_1.BinaryReader(bytes), message = new Empty();
        while (reader.nextField()) {
            if (reader.isEndGroup())
                break;
            switch (reader.getFieldNumber()) {
                default: reader.skipField();
            }
        }
        return message;
    }
    serializeBinary() {
        return this.serialize();
    }
    static deserializeBinary(bytes) {
        return Empty.deserialize(bytes);
    }
}
_Empty_one_of_decls = new WeakMap();
export class UnimplementedObsidianEventStreamService {
}
UnimplementedObsidianEventStreamService.definition = {
    streamEvents: {
        path: "/ObsidianEventStream/streamEvents",
        requestStream: true,
        responseStream: false,
        requestSerialize: (message) => Buffer.from(message.serialize()),
        requestDeserialize: (bytes) => ObsidianEvent.deserialize(new Uint8Array(bytes)),
        responseSerialize: (message) => Buffer.from(message.serialize()),
        responseDeserialize: (bytes) => Empty.deserialize(new Uint8Array(bytes))
    }
};
export class ObsidianEventStreamClient extends grpc_1.makeGenericClientConstructor(UnimplementedObsidianEventStreamService.definition, "ObsidianEventStream", {}) {
    constructor(address, credentials, options) {
        super(address, credentials, options);
        this.streamEvents = (metadata, options, callback) => {
            return super.streamEvents(metadata, options, callback);
        };
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoib2JzaWRhbi1ldmVudHMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvcHJvdG8vb2JzaWRhbi1ldmVudHMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQTs7OztvREFJb0Q7QUFDcEQsT0FBTyxLQUFLLElBQUksTUFBTSxpQkFBaUIsQ0FBQztBQUN4QyxPQUFPLEtBQUssTUFBTSxNQUFNLGVBQWUsQ0FBQztBQUN4QyxNQUFNLE9BQU8sYUFBYyxTQUFRLElBQUksQ0FBQyxPQUFPO0lBRTNDLFlBQVksSUFnQ1I7UUFDQSxLQUFLLEVBQUUsQ0FBQztRQWxDWixzQ0FBNEIsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxFQUFDO1FBbUMxQyxJQUFJLENBQUMsT0FBTyxDQUFDLFVBQVUsQ0FBQyxJQUFJLEVBQUUsS0FBSyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLEVBQUUsRUFBRSx1QkFBQSxJQUFJLG1DQUFjLENBQUMsQ0FBQztRQUM5RixJQUFJLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsSUFBSSxPQUFPLElBQUksSUFBSSxRQUFRLEVBQUU7WUFDakQsSUFBSSxXQUFXLElBQUksSUFBSSxJQUFJLElBQUksQ0FBQyxTQUFTLElBQUksU0FBUyxFQUFFO2dCQUNwRCxJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUM7YUFDbkM7WUFDRCxJQUFJLFFBQVEsSUFBSSxJQUFJLElBQUksSUFBSSxDQUFDLE1BQU0sSUFBSSxTQUFTLEVBQUU7Z0JBQzlDLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQzthQUM3QjtZQUNELElBQUksUUFBUSxJQUFJLElBQUksSUFBSSxJQUFJ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QzNELENBQUMsQ0FBQztJQUhGLENBQUM7Q0FJSiIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogR2VuZXJhdGVkIGJ5IHRoZSBwcm90b2MtZ2VuLXRzLiAgRE8gTk9UIEVESVQhXG4gKiBjb21waWxlciB2ZXJzaW9uOiAzLjIwLjNcbiAqIHNvdXJjZTogcHJvdG8vb2JzaWRhbi1ldmVudHMucHJvdG9cbiAqIGdpdDogaHR0cHM6Ly9naXRodWIuY29tL3RoZXNheXluL3Byb3RvYy1nZW4tdHMgKi9cbmltcG9ydCAqIGFzIHBiXzEgZnJvbSBcImdvb2dsZS1wcm90b2J1ZlwiO1xuaW1wb3J0ICogYXMgZ3JwY18xIGZyb20gXCJAZ3JwYy9ncnBjLWpzXCI7XG5leHBvcnQgY2xhc3MgT2JzaWRpYW5FdmVudCBleHRlbmRzIHBiXzEuTWVzc2FnZSB7XG4gICAgI29uZV9vZl9kZWNsczogbnVtYmVyW11bXSA9IFtbMiwgMywgNCwgNSwgNl1dO1xuICAgIGNvbnN0cnVjdG9yKGRhdGE/OiBhbnlbXSB8ICh7XG4gICAgICAgIHRpbWVzdGFtcD86IG51bWJlcjtcbiAgICB9ICYgKCh7XG4gICAgICAgIGNyZWF0ZT86IENyZWF0ZUV2ZW50O1xuICAgICAgICBkZWxldGU/OiBuZXZlcjtcbiAgICAgICAgcmVuYW1lPzogbmV2ZXI7XG4gICAgICAgIG1vZGlmeT86IG5ldmVyO1xuICAgICAgICBmaWxlT3Blbj86IG5ldmVyO1xuICAgIH0gfCB7XG4gICAgICAgIGNyZWF0ZT86IG5ldmVyO1xuICAgICAgICBkZWxldGU/OiBEZWxldGVFdmVudDtcbiAgICAgICAgcmVuYW1lPzogbmV2ZXI7XG4gICAgICAgIG1vZGlmeT86IG5ldmVyO1xuICAgICAgICBmaWxlT3Blbj86IG5ldmVyO1xuICAgIH0gfCB7XG4gICAgICAgIGNyZWF0ZT86IG5ldmVyO1xuICAgICAgICBkZWxldGU/OiBuZXZlcjtcbiAgICAgICAgcmVuYW1lPzogUmVuYW1lRXZlbnQ7XG4gICAgICAgIG1vZGlmeT86IG5ldmVyO1xuICAgICAgICBmaWxlT3Blbj86IG5ldmVyO1xuICAgIH0gfCB7XG4gICAgICAgIGNyZWF0ZT86IG5ldmVyO1xuICAgICAgICBkZWxldGU/OiBuZXZlcjtcbiAgICAgICAgcmVuYW1lPzogbmV2ZXI7XG4gICAgICAgIG1vZGlmeT86IE1vZGlmeUV2ZW50O1xuICAgICAgICBmaWxlT3Blbj86IG5ldmVyO1xuICAgIH0gfCB7XG4gICAgICAgIGNyZWF0ZT86IG5ldmVyO1xuICAgICAgICBkZWxldGU/OiBuZXZlcjtcbiAgICAgICAgcmVuYW1lPzogbmV2ZXI7XG4gICAgICAgIG1vZGlmeT86IG5ldmVyO1xuICAgICAgICBmaWxlT3Blbj86IEZpbGVPcGVuRXZlbnQ7XG4gICAgfSkpKSkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICBwYl8xLk1lc3NhZ2UuaW5pdGlhbGl6ZSh0aGlzLCBBcnJheS5pc0FycmF5KGRhdGEpID8gZGF0YSA6IFtdLCAwLCAtMSwgW10sIHRoaXMuI29uZV9vZl9kZWNscyk7XG4gICAgICAgIGlmICghQXJyYXkuaXNBcnJheShkYXRhKSAmJiB0eXBlb2YgZGF0YSA9PSBcIm9iamVjdFwiKSB7XG4gICAgICAgICAgICBpZiAoXCJ0aW1lc3RhbXBcIiBpbiBkYXRhICYmIGRhdGEudGltZXN0YW1wICE9IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRoaXMudGltZXN0YW1wID0gZGF0YS50aW1lc3RhbXA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoXCJjcmVhdGVcIiBpbiBkYXRhICYmIGRhdGEuY3JlYXRlICE9IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuY3JlYXRlID0gZGF0YS5jcmVhdGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoXCJkZWxldGVcIiBpbiBkYXRhICYmIGRhdGEuZGVsZXRlICE9IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuZGVsZXRlID0gZGF0YS5kZWxldGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoXCJyZW5hbWVcIiBpbiBkYXRhICYmIGRhdGEucmVuYW1lICE9IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRoaXMucmVuYW1lID0gZGF0YS5yZW5hbWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoXCJtb2RpZnlcIiBpbiBkYXRhICYmIGRhdGEubW9kaWZ5ICE9IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRoaXMubW9kaWZ5ID0gZGF0YS5tb2RpZnk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoXCJmaWxlT3BlblwiIGluIGRhdGEgJiYgZGF0YS5maWxlT3BlbiAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmZpbGVPcGVuID0gZGF0YS5maWxlT3BlbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXQgdGltZXN0YW1wKCkge1xuICAgICAgICByZXR1cm4gcGJfMS5NZXNzYWdlLmdldEZpZWxkV2l0aERlZmF1bHQodGhpcywgMSwgMCkgYXMgbnVtYmVyO1xuICAgIH1cbiAgICBzZXQgdGltZXN0YW1wKHZhbHVlOiBudW1iZXIpIHtcbiAgICAgICAgcGJfMS5NZXNzYWdlLnNldEZpZWxkKHRoaXMsIDEsIHZhbHVlKTtcbiAgICB9XG4gICAgZ2V0IGNyZWF0ZSgpIHtcbiAgICAgICAgcmV0dXJuIHBiXzEuTWVzc2FnZS5nZXRXcmFwcGVyRmllbGQodGhpcywgQ3JlYXRlRXZlbnQsIDIpIGFzIENyZWF0ZUV2ZW50O1xuICAgIH1cbiAgICBzZXQgY3JlYXRlKHZhbHVlOiBDcmVhdGVFdmVudCkge1xuICAgICAgICBwYl8xLk1lc3NhZ2Uuc2V0T25lb2ZXcmFwcGVyRmllbGQodGhpcywgMiwgdGhpcy4jb25lX29mX2RlY2xzWzBdLCB2YWx1ZSk7XG4gICAgfVxuICAgIGdldCBoYXNfY3JlYXRlKCkge1xuICAgICAgICByZXR1cm4gcGJfMS5NZXNzYWdlLmdldEZpZWxkKHRoaXMsIDIpICE9IG51bGw7XG4gICAgfVxuICAgIGdldCBkZWxldGUoKSB7XG4gICAgICAgIHJldHVybiBwYl8xLk1lc3NhZ2UuZ2V0V3JhcHBlckZpZWxkKHRoaXMsIERlbGV0ZUV2ZW50LCAzKSBhcyBEZWxldGVFdmVudDtcbiAgICB9XG4gICAgc2V0IGRlbGV0ZSh2YWx1ZTogRGVsZXRlRXZlbnQpIHtcbiAgICAgICAgcGJfMS5NZXNzYWdlLnNldE9uZW9mV3JhcHBlckZpZWxkKHRoaXMsIDMsIHRoaXMuI29uZV9vZl9kZWNsc1swXSwgdmFsdWUpO1xuICAgIH1cbiAgICBnZXQgaGFzX2RlbGV0ZSgpIHtcbiAgICAgICAgcmV0dXJuIHBiXzEuTWVzc2FnZS5nZXRGaWVsZCh0aGlzLCAzKSAhPSBudWxsO1xuICAgIH1cbiAgICBnZXQgcmVuYW1lKCkge1xuICAgICAgICByZXR1cm4gcGJfMS5NZXNzYWdlLmdldFdyYXBwZXJGaWVsZCh0aGlzLCBSZW5hbWVFdmVudCwgNCkgYXMgUmVuYW1lRXZlbnQ7XG4gICAgfVxuICAgIHNldCByZW5hbWUodmFsdWU6IFJlbmFtZUV2ZW50KSB7XG4gICAgICAgIHBiXzEuTWVzc2FnZS5zZXRPbmVvZldyYXBwZXJGaWVsZCh0aGlzLCA0LCB0aGlzLiNvbmVfb2ZfZGVjbHNbMF0sIHZhbHVlKTtcbiAgICB9XG4gICAgZ2V0IGhhc19yZW5hbWUoKSB7XG4gICAgICAgIHJldHVybiBwYl8xLk1lc3NhZ2UuZ2V0RmllbGQodGhpcywgNCkgIT0gbnVsbDtcbiAgICB9XG4gICAgZ2V0IG1vZGlmeSgpIHtcbiAgICAgICAgcmV0dXJuIHBiXzEuTWVzc2FnZS5nZXRXcmFwcGVyRmllbGQodGhpcywgTW9kaWZ5RXZlbnQsIDUpIGFzIE1vZGlmeUV2ZW50O1xuICAgIH1cbiAgICBzZXQgbW9kaWZ5KHZhbHVlOiBNb2RpZnlFdmVudCkge1xuICAgICAgICBwYl8xLk1lc3NhZ2Uuc2V0T25lb2ZXcmFwcGVyRmllbGQodGhpcywgNSwgdGhpcy4jb25lX29mX2RlY2xzWzBdLCB2YWx1ZSk7XG4gICAgfVxuICAgIGdldCBoYXNfbW9kaWZ5KCkge1xuICAgICAgICByZXR1cm4gcGJfMS5NZXNzYWdlLmdldEZpZWxkKHRoaXMsIDUpICE9IG51bGw7XG4gICAgfVxuICAgIGdldCBmaWxlT3BlbigpIHtcbiAgICAgICAgcmV0dXJuIHBiXzEuTWVzc2FnZS5nZXRXcmFwcGVyRmllbGQodGhpcywgRmlsZU9wZW5FdmVudCwgNikgYXMgRmlsZU9wZW5FdmVudDtcbiAgICB9XG4gICAgc2V0IGZpbGVPcGVuKHZhbHVlOiBGaWxlT3BlbkV2ZW50KSB7XG4gICAgICAgIHBiXzEuTWVzc2FnZS5zZXRPbmVvZldyYXBwZXJGaWVsZCh0aGlzLCA2LCB0aGlzLiNvbmVfb2ZfZGVjbHNbMF0sIHZhbHVlKTtcbiAgICB9XG4gICAgZ2V0IGhhc19maWxlT3BlbigpIHtcbiAgICAgICAgcmV0dXJuIHBiXzEuTWVzc2FnZS5nZXRGaWVsZCh0aGlzLCA2KSAhPSBudWxsO1xuICAgIH1cbiAgICBnZXQgZXZlbnQoKSB7XG4gICAgICAgIGNvbnN0IGNhc2VzOiB7XG4gICAgICAgICAgICBbaW5kZXg6IG51bWJlcl06IFwibm9uZVwiIHwgXCJjcmVhdGVcIiB8IFwiZGVsZXRlXCIgfCBcInJlbmFtZVwiIHwgXCJtb2RpZnlcIiB8IFwiZmlsZU9wZW5cIjtcbiAgICAgICAgfSA9IHtcbiAgICAgICAgICAgIDA6IFwibm9uZVwiLFxuICAgICAgICAgICAgMjogXCJjcmVhdGVcIixcbiAgICAgICAgICAgIDM6IFwiZGVsZXRlXCIsXG4gICAgICAgICAgICA0OiBcInJlbmFtZVwiLFxuICAgICAgICAgICAgNTogXCJtb2RpZnlcIixcbiAgICAgICAgICAgIDY6IFwiZmlsZU9wZW5cIlxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gY2FzZXNbcGJfMS5NZXNzYWdlLmNvbXB1dGVPbmVvZkNhc2UodGhpcywgWzIsIDMsIDQsIDUsIDZdKV07XG4gICAgfVxuICAgIHN0YXRpYyBmcm9tT2JqZWN0KGRhdGE6IHtcbiAgICAgICAgdGltZXN0YW1wPzogbnVtYmVyO1xuICAgICAgICBjcmVhdGU/OiBSZXR1cm5UeXBlPHR5cGVvZiBDcmVhdGVFdmVudC5wcm90b3R5cGUudG9PYmplY3Q+O1xuICAgICAgICBkZWxldGU/OiBSZXR1cm5UeXBlPHR5cGVvZiBEZWxldGVFdmVudC5wcm90b3R5cGUudG9PYmplY3Q+O1xuICAgICAgICByZW5hbWU/OiBSZXR1cm5UeXBlPHR5cGVvZiBSZW5hbWVFdmVudC5wcm90b3R5cGUudG9PYmplY3Q+O1xuICAgICAgICBtb2RpZnk/OiBSZXR1cm5UeXBlPHR5cGVvZiBNb2RpZnlFdmVudC5wcm90b3R5cGUudG9PYmplY3Q+O1xuICAgICAgICBmaWxlT3Blbj86IFJldHVyblR5cGU8dHlwZW9mIEZpbGVPcGVuRXZlbnQucHJvdG90eXBlLnRvT2JqZWN0PjtcbiAgICB9KTogT2JzaWRpYW5FdmVudCB7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBuZXcgT2JzaWRpYW5FdmVudCh7fSk7XG4gICAgICAgIGlmIChkYXRhLnRpbWVzdGFtcCAhPSBudWxsKSB7XG4gICAgICAgICAgICBtZXNzYWdlLnRpbWVzdGFtcCA9IGRhdGEudGltZXN0YW1wO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkYXRhLmNyZWF0ZSAhPSBudWxsKSB7XG4gICAgICAgICAgICBtZXNzYWdlLmNyZWF0ZSA9IENyZWF0ZUV2ZW50LmZyb21PYmplY3QoZGF0YS5jcmVhdGUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkYXRhLmRlbGV0ZSAhPSBudWxsKSB7XG4gICAgICAgICAgICBtZXNzYWdlLmRlbGV0ZSA9IERlbGV0ZUV2ZW50LmZyb21PYmplY3QoZGF0YS5kZWxldGUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkYXRhLnJlbmFtZSAhPSBudWxsKSB7XG4gICAgICAgICAgICBtZXNzYWdlLnJlbmFtZSA9IFJlbmFtZUV2ZW50LmZyb21PYmplY3QoZGF0YS5yZW5hbWUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkYXRhLm1vZGlmeSAhPSBudWxsKSB7XG4gICAgICAgICAgICBtZXNzYWdlLm1vZGlmeSA9IE1vZGlmeUV2ZW50LmZyb21PYmplY3QoZGF0YS5tb2RpZnkpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkYXRhLmZpbGVPcGVuICE9IG51bGwpIHtcbiAgICAgICAgICAgIG1lc3NhZ2UuZmlsZU9wZW4gPSBGaWxlT3BlbkV2ZW50LmZyb21PYmplY3QoZGF0YS5maWxlT3Blbik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfVxuICAgIHRvT2JqZWN0KCkge1xuICAgICAgICBjb25zdCBkYXRhOiB7XG4gICAgICAgICAgICB0aW1lc3RhbXA/OiBudW1iZXI7XG4gICAgICAgICAgICBjcmVhdGU/OiBSZXR1cm5UeXBlPHR5cGVvZiBDcmVhdGVFdmVudC5wcm90b3R5cGUudG9PYmplY3Q+O1xuICAgICAgICAgICAgZGVsZXRlPzogUmV0dXJuVHlwZTx0eXBlb2YgRGVsZXRlRXZlbnQucHJvdG90eXBlLnRvT2JqZWN0PjtcbiAgICAgICAgICAgIHJlbmFtZT86IFJldHVyblR5cGU8dHlwZW9mIFJlbmFtZUV2ZW50LnByb3RvdHlwZS50b09iamVjdD47XG4gICAgICAgICAgICBtb2RpZnk/OiBSZXR1cm5UeXBlPHR5cGVvZiBNb2RpZnlFdmVudC5wcm90b3R5cGUudG9PYmplY3Q+O1xuICAgICAgICAgICAgZmlsZU9wZW4/OiBSZXR1cm5UeXBlPHR5cGVvZiBGaWxlT3BlbkV2ZW50LnByb3RvdHlwZS50b09iamVjdD47XG4gICAgICAgIH0gPSB7fTtcbiAgICAgICAgaWYgKHRoaXMudGltZXN0YW1wICE9IG51bGwpIHtcbiAgICAgICAgICAgIGRhdGEudGltZXN0YW1wID0gdGhpcy50aW1lc3RhbXA7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuY3JlYXRlICE9IG51bGwpIHtcbiAgICAgICAgICAgIGRhdGEuY3JlYXRlID0gdGhpcy5jcmVhdGUudG9PYmplY3QoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5kZWxldGUgIT0gbnVsbCkge1xuICAgICAgICAgICAgZGF0YS5kZWxldGUgPSB0aGlzLmRlbGV0ZS50b09iamVjdCgpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnJlbmFtZSAhPSBudWxsKSB7XG4gICAgICAgICAgICBkYXRhLnJlbmFtZSA9IHRoaXMucmVuYW1lLnRvT2JqZWN0KCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMubW9kaWZ5ICE9IG51bGwpIHtcbiAgICAgICAgICAgIGRhdGEubW9kaWZ5ID0gdGhpcy5tb2RpZnkudG9PYmplY3QoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5maWxlT3BlbiAhPSBudWxsKSB7XG4gICAgICAgICAgICBkYXRhLmZpbGVPcGVuID0gdGhpcy5maWxlT3Blbi50b09iamVjdCgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkYXRhO1xuICAgIH1cbiAgICBzZXJpYWxpemUoKTogVWludDhBcnJheTtcbiAgICBzZXJpYWxpemUodzogcGJfMS5CaW5hcnlXcml0ZXIpOiB2b2lkO1xuICAgIHNlcmlhbGl6ZSh3PzogcGJfMS5CaW5hcnlXcml0ZXIpOiBVaW50OEFycmF5IHwgdm9pZCB7XG4gICAgICAgIGNvbnN0IHdyaXRlciA9IHcgfHwgbmV3IHBiXzEuQmluYXJ5V3JpdGVyKCk7XG4gICAgICAgIGlmICh0aGlzLnRpbWVzdGFtcCAhPSAwKVxuICAgICAgICAgICAgd3JpdGVyLndyaXRlSW50NjQoMSwgdGhpcy50aW1lc3RhbXApO1xuICAgICAgICBpZiAodGhpcy5oYXNfY3JlYXRlKVxuICAgICAgICAgICAgd3JpdGVyLndyaXRlTWVzc2FnZSgyLCB0aGlzLmNyZWF0ZSwgKCkgPT4gdGhpcy5jcmVhdGUuc2VyaWFsaXplKHdyaXRlcikpO1xuICAgICAgICBpZiAodGhpcy5oYXNfZGVsZXRlKVxuICAgICAgICAgICAgd3JpdGVyLndyaXRlTWVzc2FnZSgzLCB0aGlzLmRlbGV0ZSwgKCkgPT4gdGhpcy5kZWxldGUuc2VyaWFsaXplKHdyaXRlcikpO1xuICAgICAgICBpZiAodGhpcy5oYXNfcmVuYW1lKVxuICAgICAgICAgICAgd3JpdGVyLndyaXRlTWVzc2FnZSg0LCB0aGlzLnJlbmFtZSwgKCkgPT4gdGhpcy5yZW5hbWUuc2VyaWFsaXplKHdyaXRlcikpO1xuICAgICAgICBpZiAodGhpcy5oYXNfbW9kaWZ5KVxuICAgICAgICAgICAgd3JpdGVyLndyaXRlTWVzc2FnZSg1LCB0aGlzLm1vZGlmeSwgKCkgPT4gdGhpcy5tb2RpZnkuc2VyaWFsaXplKHdyaXRlcikpO1xuICAgICAgICBpZiAodGhpcy5oYXNfZmlsZU9wZW4pXG4gICAgICAgICAgICB3cml0ZXIud3JpdGVNZXNzYWdlKDYsIHRoaXMuZmlsZU9wZW4sICgpID0+IHRoaXMuZmlsZU9wZW4uc2VyaWFsaXplKHdyaXRlcikpO1xuICAgICAgICBpZiAoIXcpXG4gICAgICAgICAgICByZXR1cm4gd3JpdGVyLmdldFJlc3VsdEJ1ZmZlcigpO1xuICAgIH1cbiAgICBzdGF0aWMgZGVzZXJpYWxpemUoYnl0ZXM6IFVpbnQ4QXJyYXkgfCBwYl8xLkJpbmFyeVJlYWRlcik6IE9ic2lkaWFuRXZlbnQge1xuICAgICAgICBjb25zdCByZWFkZXIgPSBieXRlcyBpbnN0YW5jZW9mIHBiXzEuQmluYXJ5UmVhZGVyID8gYnl0ZXMgOiBuZXcgcGJfMS5CaW5hcnlSZWFkZXIoYnl0ZXMpLCBtZXNzYWdlID0gbmV3IE9ic2lkaWFuRXZlbnQoKTtcbiAgICAgICAgd2hpbGUgKHJlYWRlci5uZXh0RmllbGQoKSkge1xuICAgICAgICAgICAgaWYgKHJlYWRlci5pc0VuZEdyb3VwKCkpXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBzd2l0Y2ggKHJlYWRlci5nZXRGaWVsZE51bWJlcigpKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnRpbWVzdGFtcCA9IHJlYWRlci5yZWFkSW50NjQoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICByZWFkZXIucmVhZE1lc3NhZ2UobWVzc2FnZS5jcmVhdGUsICgpID0+IG1lc3NhZ2UuY3JlYXRlID0gQ3JlYXRlRXZlbnQuZGVzZXJpYWxpemUocmVhZGVyKSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgcmVhZGVyLnJlYWRNZXNzYWdlKG1lc3NhZ2UuZGVsZXRlLCAoKSA9PiBtZXNzYWdlLmRlbGV0ZSA9IERlbGV0ZUV2ZW50LmRlc2VyaWFsaXplKHJlYWRlcikpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgICAgIHJlYWRlci5yZWFkTWVzc2FnZShtZXNzYWdlLnJlbmFtZSwgKCkgPT4gbWVzc2FnZS5yZW5hbWUgPSBSZW5hbWVFdmVudC5kZXNlcmlhbGl6ZShyZWFkZXIpKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICAgICAgICByZWFkZXIucmVhZE1lc3NhZ2UobWVzc2FnZS5tb2RpZnksICgpID0+IG1lc3NhZ2UubW9kaWZ5ID0gTW9kaWZ5RXZlbnQuZGVzZXJpYWxpemUocmVhZGVyKSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgNjpcbiAgICAgICAgICAgICAgICAgICAgcmVhZGVyLnJlYWRNZXNzYWdlKG1lc3NhZ2UuZmlsZU9wZW4sICgpID0+IG1lc3NhZ2UuZmlsZU9wZW4gPSBGaWxlT3BlbkV2ZW50LmRlc2VyaWFsaXplKHJlYWRlcikpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OiByZWFkZXIuc2tpcEZpZWxkKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfVxuICAgIHNlcmlhbGl6ZUJpbmFyeSgpOiBVaW50OEFycmF5IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2VyaWFsaXplKCk7XG4gICAgfVxuICAgIHN0YXRpYyBkZXNlcmlhbGl6ZUJpbmFyeShieXRlczogVWludDhBcnJheSk6IE9ic2lkaWFuRXZlbnQge1xuICAgICAgICByZXR1cm4gT2JzaWRpYW5FdmVudC5kZXNlcmlhbGl6ZShieXRlcyk7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIENyZWF0ZUV2ZW50IGV4dGVuZHMgcGJfMS5NZXNzYWdlIHtcbiAgICAjb25lX29mX2RlY2xzOiBudW1iZXJbXVtdID0gW107XG4gICAgY29uc3RydWN0b3IoZGF0YT86IGFueVtdIHwge1xuICAgICAgICBmaWxlUGF0aD86IHN0cmluZztcbiAgICB9KSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHBiXzEuTWVzc2FnZS5pbml0aWFsaXplKHRoaXMsIEFycmF5LmlzQXJyYXkoZGF0YSkgPyBkYXRhIDogW10sIDAsIC0xLCBbXSwgdGhpcy4jb25lX29mX2RlY2xzKTtcbiAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KGRhdGEpICYmIHR5cGVvZiBkYXRhID09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgICAgIGlmIChcImZpbGVQYXRoXCIgaW4gZGF0YSAmJiBkYXRhLmZpbGVQYXRoICE9IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuZmlsZVBhdGggPSBkYXRhLmZpbGVQYXRoO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGdldCBmaWxlUGF0aCgpIHtcbiAgICAgICAgcmV0dXJuIHBiXzEuTWVzc2FnZS5nZXRGaWVsZFdpdGhEZWZhdWx0KHRoaXMsIDEsIFwiXCIpIGFzIHN0cmluZztcbiAgICB9XG4gICAgc2V0IGZpbGVQYXRoKHZhbHVlOiBzdHJpbmcpIHtcbiAgICAgICAgcGJfMS5NZXNzYWdlLnNldEZpZWxkKHRoaXMsIDEsIHZhbHVlKTtcbiAgICB9XG4gICAgc3RhdGljIGZyb21PYmplY3QoZGF0YToge1xuICAgICAgICBmaWxlUGF0aD86IHN0cmluZztcbiAgICB9KTogQ3JlYXRlRXZlbnQge1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gbmV3IENyZWF0ZUV2ZW50KHt9KTtcbiAgICAgICAgaWYgKGRhdGEuZmlsZVBhdGggIT0gbnVsbCkge1xuICAgICAgICAgICAgbWVzc2FnZS5maWxlUGF0aCA9IGRhdGEuZmlsZVBhdGg7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfVxuICAgIHRvT2JqZWN0KCkge1xuICAgICAgICBjb25zdCBkYXRhOiB7XG4gICAgICAgICAgICBmaWxlUGF0aD86IHN0cmluZztcbiAgICAgICAgfSA9IHt9O1xuICAgICAgICBpZiAodGhpcy5maWxlUGF0aCAhPSBudWxsKSB7XG4gICAgICAgICAgICBkYXRhLmZpbGVQYXRoID0gdGhpcy5maWxlUGF0aDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZGF0YTtcbiAgICB9XG4gICAgc2VyaWFsaXplKCk6IFVpbnQ4QXJyYXk7XG4gICAgc2VyaWFsaXplKHc6IHBiXzEuQmluYXJ5V3JpdGVyKTogdm9pZDtcbiAgICBzZXJpYWxpemUodz86IHBiXzEuQmluYXJ5V3JpdGVyKTogVWludDhBcnJheSB8IHZvaWQge1xuICAgICAgICBjb25zdCB3cml0ZXIgPSB3IHx8IG5ldyBwYl8xLkJpbmFyeVdyaXRlcigpO1xuICAgICAgICBpZiAodGhpcy5maWxlUGF0aC5sZW5ndGgpXG4gICAgICAgICAgICB3cml0ZXIud3JpdGVTdHJpbmcoMSwgdGhpcy5maWxlUGF0aCk7XG4gICAgICAgIGlmICghdylcbiAgICAgICAgICAgIHJldHVybiB3cml0ZXIuZ2V0UmVzdWx0QnVmZmVyKCk7XG4gICAgfVxuICAgIHN0YXRpYyBkZXNlcmlhbGl6ZShieXRlczogVWludDhBcnJheSB8IHBiXzEuQmluYXJ5UmVhZGVyKTogQ3JlYXRlRXZlbnQge1xuICAgICAgICBjb25zdCByZWFkZXIgPSBieXRlcyBpbnN0YW5jZW9mIHBiXzEuQmluYXJ5UmVhZGVyID8gYnl0ZXMgOiBuZXcgcGJfMS5CaW5hcnlSZWFkZXIoYnl0ZXMpLCBtZXNzYWdlID0gbmV3IENyZWF0ZUV2ZW50KCk7XG4gICAgICAgIHdoaWxlIChyZWFkZXIubmV4dEZpZWxkKCkpIHtcbiAgICAgICAgICAgIGlmIChyZWFkZXIuaXNFbmRHcm91cCgpKVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgc3dpdGNoIChyZWFkZXIuZ2V0RmllbGROdW1iZXIoKSkge1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5maWxlUGF0aCA9IHJlYWRlci5yZWFkU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6IHJlYWRlci5za2lwRmllbGQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9XG4gICAgc2VyaWFsaXplQmluYXJ5KCk6IFVpbnQ4QXJyYXkge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXJpYWxpemUoKTtcbiAgICB9XG4gICAgc3RhdGljIGRlc2VyaWFsaXplQmluYXJ5KGJ5dGVzOiBVaW50OEFycmF5KTogQ3JlYXRlRXZlbnQge1xuICAgICAgICByZXR1cm4gQ3JlYXRlRXZlbnQuZGVzZXJpYWxpemUoYnl0ZXMpO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBEZWxldGVFdmVudCBleHRlbmRzIHBiXzEuTWVzc2FnZSB7XG4gICAgI29uZV9vZl9kZWNsczogbnVtYmVyW11bXSA9IFtdO1xuICAgIGNvbnN0cnVjdG9yKGRhdGE/OiBhbnlbXSB8IHtcbiAgICAgICAgZmlsZVBhdGg/OiBzdHJpbmc7XG4gICAgfSkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICBwYl8xLk1lc3NhZ2UuaW5pdGlhbGl6ZSh0aGlzLCBBcnJheS5pc0FycmF5KGRhdGEpID8gZGF0YSA6IFtdLCAwLCAtMSwgW10sIHRoaXMuI29uZV9vZl9kZWNscyk7XG4gICAgICAgIGlmICghQXJyYXkuaXNBcnJheShkYXRhKSAmJiB0eXBlb2YgZGF0YSA9PSBcIm9iamVjdFwiKSB7XG4gICAgICAgICAgICBpZiAoXCJmaWxlUGF0aFwiIGluIGRhdGEgJiYgZGF0YS5maWxlUGF0aCAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmZpbGVQYXRoID0gZGF0YS5maWxlUGF0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXQgZmlsZVBhdGgoKSB7XG4gICAgICAgIHJldHVybiBwYl8xLk1lc3NhZ2UuZ2V0RmllbGRXaXRoRGVmYXVsdCh0aGlzLCAxLCBcIlwiKSBhcyBzdHJpbmc7XG4gICAgfVxuICAgIHNldCBmaWxlUGF0aCh2YWx1ZTogc3RyaW5nKSB7XG4gICAgICAgIHBiXzEuTWVzc2FnZS5zZXRGaWVsZCh0aGlzLCAxLCB2YWx1ZSk7XG4gICAgfVxuICAgIHN0YXRpYyBmcm9tT2JqZWN0KGRhdGE6IHtcbiAgICAgICAgZmlsZVBhdGg/OiBzdHJpbmc7XG4gICAgfSk6IERlbGV0ZUV2ZW50IHtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IG5ldyBEZWxldGVFdmVudCh7fSk7XG4gICAgICAgIGlmIChkYXRhLmZpbGVQYXRoICE9IG51bGwpIHtcbiAgICAgICAgICAgIG1lc3NhZ2UuZmlsZVBhdGggPSBkYXRhLmZpbGVQYXRoO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH1cbiAgICB0b09iamVjdCgpIHtcbiAgICAgICAgY29uc3QgZGF0YToge1xuICAgICAgICAgICAgZmlsZVBhdGg/OiBzdHJpbmc7XG4gICAgICAgIH0gPSB7fTtcbiAgICAgICAgaWYgKHRoaXMuZmlsZVBhdGggIT0gbnVsbCkge1xuICAgICAgICAgICAgZGF0YS5maWxlUGF0aCA9IHRoaXMuZmlsZVBhdGg7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfVxuICAgIHNlcmlhbGl6ZSgpOiBVaW50OEFycmF5O1xuICAgIHNlcmlhbGl6ZSh3OiBwYl8xLkJpbmFyeVdyaXRlcik6IHZvaWQ7XG4gICAgc2VyaWFsaXplKHc/OiBwYl8xLkJpbmFyeVdyaXRlcik6IFVpbnQ4QXJyYXkgfCB2b2lkIHtcbiAgICAgICAgY29uc3Qgd3JpdGVyID0gdyB8fCBuZXcgcGJfMS5CaW5hcnlXcml0ZXIoKTtcbiAgICAgICAgaWYgKHRoaXMuZmlsZVBhdGgubGVuZ3RoKVxuICAgICAgICAgICAgd3JpdGVyLndyaXRlU3RyaW5nKDEsIHRoaXMuZmlsZVBhdGgpO1xuICAgICAgICBpZiAoIXcpXG4gICAgICAgICAgICByZXR1cm4gd3JpdGVyLmdldFJlc3VsdEJ1ZmZlcigpO1xuICAgIH1cbiAgICBzdGF0aWMgZGVzZXJpYWxpemUoYnl0ZXM6IFVpbnQ4QXJyYXkgfCBwYl8xLkJpbmFyeVJlYWRlcik6IERlbGV0ZUV2ZW50IHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gYnl0ZXMgaW5zdGFuY2VvZiBwYl8xLkJpbmFyeVJlYWRlciA/IGJ5dGVzIDogbmV3IHBiXzEuQmluYXJ5UmVhZGVyKGJ5dGVzKSwgbWVzc2FnZSA9IG5ldyBEZWxldGVFdmVudCgpO1xuICAgICAgICB3aGlsZSAocmVhZGVyLm5leHRGaWVsZCgpKSB7XG4gICAgICAgICAgICBpZiAocmVhZGVyLmlzRW5kR3JvdXAoKSlcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIHN3aXRjaCAocmVhZGVyLmdldEZpZWxkTnVtYmVyKCkpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuZmlsZVBhdGggPSByZWFkZXIucmVhZFN0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OiByZWFkZXIuc2tpcEZpZWxkKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfVxuICAgIHNlcmlhbGl6ZUJpbmFyeSgpOiBVaW50OEFycmF5IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2VyaWFsaXplKCk7XG4gICAgfVxuICAgIHN0YXRpYyBkZXNlcmlhbGl6ZUJpbmFyeShieXRlczogVWludDhBcnJheSk6IERlbGV0ZUV2ZW50IHtcbiAgICAgICAgcmV0dXJuIERlbGV0ZUV2ZW50LmRlc2VyaWFsaXplKGJ5dGVzKTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgUmVuYW1lRXZlbnQgZXh0ZW5kcyBwYl8xLk1lc3NhZ2Uge1xuICAgICNvbmVfb2ZfZGVjbHM6IG51bWJlcltdW10gPSBbXTtcbiAgICBjb25zdHJ1Y3RvcihkYXRhPzogYW55W10gfCB7XG4gICAgICAgIG5ld1BhdGg/OiBzdHJpbmc7XG4gICAgICAgIG9sZFBhdGg/OiBzdHJpbmc7XG4gICAgfSkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICBwYl8xLk1lc3NhZ2UuaW5pdGlhbGl6ZSh0aGlzLCBBcnJheS5pc0FycmF5KGRhdGEpID8gZGF0YSA6IFtdLCAwLCAtMSwgW10sIHRoaXMuI29uZV9vZl9kZWNscyk7XG4gICAgICAgIGlmICghQXJyYXkuaXNBcnJheShkYXRhKSAmJiB0eXBlb2YgZGF0YSA9PSBcIm9iamVjdFwiKSB7XG4gICAgICAgICAgICBpZiAoXCJuZXdQYXRoXCIgaW4gZGF0YSAmJiBkYXRhLm5ld1BhdGggIT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5uZXdQYXRoID0gZGF0YS5uZXdQYXRoO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKFwib2xkUGF0aFwiIGluIGRhdGEgJiYgZGF0YS5vbGRQYXRoICE9IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRoaXMub2xkUGF0aCA9IGRhdGEub2xkUGF0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXQgbmV3UGF0aCgpIHtcbiAgICAgICAgcmV0dXJuIHBiXzEuTWVzc2FnZS5nZXRGaWVsZFdpdGhEZWZhdWx0KHRoaXMsIDEsIFwiXCIpIGFzIHN0cmluZztcbiAgICB9XG4gICAgc2V0IG5ld1BhdGgodmFsdWU6IHN0cmluZykge1xuICAgICAgICBwYl8xLk1lc3NhZ2Uuc2V0RmllbGQodGhpcywgMSwgdmFsdWUpO1xuICAgIH1cbiAgICBnZXQgb2xkUGF0aCgpIHtcbiAgICAgICAgcmV0dXJuIHBiXzEuTWVzc2FnZS5nZXRGaWVsZFdpdGhEZWZhdWx0KHRoaXMsIDIsIFwiXCIpIGFzIHN0cmluZztcbiAgICB9XG4gICAgc2V0IG9sZFBhdGgodmFsdWU6IHN0cmluZykge1xuICAgICAgICBwYl8xLk1lc3NhZ2Uuc2V0RmllbGQodGhpcywgMiwgdmFsdWUpO1xuICAgIH1cbiAgICBzdGF0aWMgZnJvbU9iamVjdChkYXRhOiB7XG4gICAgICAgIG5ld1BhdGg/OiBzdHJpbmc7XG4gICAgICAgIG9sZFBhdGg/OiBzdHJpbmc7XG4gICAgfSk6IFJlbmFtZUV2ZW50IHtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IG5ldyBSZW5hbWVFdmVudCh7fSk7XG4gICAgICAgIGlmIChkYXRhLm5ld1BhdGggIT0gbnVsbCkge1xuICAgICAgICAgICAgbWVzc2FnZS5uZXdQYXRoID0gZGF0YS5uZXdQYXRoO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkYXRhLm9sZFBhdGggIT0gbnVsbCkge1xuICAgICAgICAgICAgbWVzc2FnZS5vbGRQYXRoID0gZGF0YS5vbGRQYXRoO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH1cbiAgICB0b09iamVjdCgpIHtcbiAgICAgICAgY29uc3QgZGF0YToge1xuICAgICAgICAgICAgbmV3UGF0aD86IHN0cmluZztcbiAgICAgICAgICAgIG9sZFBhdGg/OiBzdHJpbmc7XG4gICAgICAgIH0gPSB7fTtcbiAgICAgICAgaWYgKHRoaXMubmV3UGF0aCAhPSBudWxsKSB7XG4gICAgICAgICAgICBkYXRhLm5ld1BhdGggPSB0aGlzLm5ld1BhdGg7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMub2xkUGF0aCAhPSBudWxsKSB7XG4gICAgICAgICAgICBkYXRhLm9sZFBhdGggPSB0aGlzLm9sZFBhdGg7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfVxuICAgIHNlcmlhbGl6ZSgpOiBVaW50OEFycmF5O1xuICAgIHNlcmlhbGl6ZSh3OiBwYl8xLkJpbmFyeVdyaXRlcik6IHZvaWQ7XG4gICAgc2VyaWFsaXplKHc/OiBwYl8xLkJpbmFyeVdyaXRlcik6IFVpbnQ4QXJyYXkgfCB2b2lkIHtcbiAgICAgICAgY29uc3Qgd3JpdGVyID0gdyB8fCBuZXcgcGJfMS5CaW5hcnlXcml0ZXIoKTtcbiAgICAgICAgaWYgKHRoaXMubmV3UGF0aC5sZW5ndGgpXG4gICAgICAgICAgICB3cml0ZXIud3JpdGVTdHJpbmcoMSwgdGhpcy5uZXdQYXRoKTtcbiAgICAgICAgaWYgKHRoaXMub2xkUGF0aC5sZW5ndGgpXG4gICAgICAgICAgICB3cml0ZXIud3JpdGVTdHJpbmcoMiwgdGhpcy5vbGRQYXRoKTtcbiAgICAgICAgaWYgKCF3KVxuICAgICAgICAgICAgcmV0dXJuIHdyaXRlci5nZXRSZXN1bHRCdWZmZXIoKTtcbiAgICB9XG4gICAgc3RhdGljIGRlc2VyaWFsaXplKGJ5dGVzOiBVaW50OEFycmF5IHwgcGJfMS5CaW5hcnlSZWFkZXIpOiBSZW5hbWVFdmVudCB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IGJ5dGVzIGluc3RhbmNlb2YgcGJfMS5CaW5hcnlSZWFkZXIgPyBieXRlcyA6IG5ldyBwYl8xLkJpbmFyeVJlYWRlcihieXRlcyksIG1lc3NhZ2UgPSBuZXcgUmVuYW1lRXZlbnQoKTtcbiAgICAgICAgd2hpbGUgKHJlYWRlci5uZXh0RmllbGQoKSkge1xuICAgICAgICAgICAgaWYgKHJlYWRlci5pc0VuZEdyb3VwKCkpXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBzd2l0Y2ggKHJlYWRlci5nZXRGaWVsZE51bWJlcigpKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLm5ld1BhdGggPSByZWFkZXIucmVhZFN0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2Uub2xkUGF0aCA9IHJlYWRlci5yZWFkU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6IHJlYWRlci5za2lwRmllbGQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9XG4gICAgc2VyaWFsaXplQmluYXJ5KCk6IFVpbnQ4QXJyYXkge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXJpYWxpemUoKTtcbiAgICB9XG4gICAgc3RhdGljIGRlc2VyaWFsaXplQmluYXJ5KGJ5dGVzOiBVaW50OEFycmF5KTogUmVuYW1lRXZlbnQge1xuICAgICAgICByZXR1cm4gUmVuYW1lRXZlbnQuZGVzZXJpYWxpemUoYnl0ZXMpO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBNb2RpZnlFdmVudCBleHRlbmRzIHBiXzEuTWVzc2FnZSB7XG4gICAgI29uZV9vZl9kZWNsczogbnVtYmVyW11bXSA9IFtdO1xuICAgIGNvbnN0cnVjdG9yKGRhdGE/OiBhbnlbXSB8IHtcbiAgICAgICAgZmlsZVBhdGg/OiBzdHJpbmc7XG4gICAgfSkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICBwYl8xLk1lc3NhZ2UuaW5pdGlhbGl6ZSh0aGlzLCBBcnJheS5pc0FycmF5KGRhdGEpID8gZGF0YSA6IFtdLCAwLCAtMSwgW10sIHRoaXMuI29uZV9vZl9kZWNscyk7XG4gICAgICAgIGlmICghQXJyYXkuaXNBcnJheShkYXRhKSAmJiB0eXBlb2YgZGF0YSA9PSBcIm9iamVjdFwiKSB7XG4gICAgICAgICAgICBpZiAoXCJmaWxlUGF0aFwiIGluIGRhdGEgJiYgZGF0YS5maWxlUGF0aCAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmZpbGVQYXRoID0gZGF0YS5maWxlUGF0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXQgZmlsZVBhdGgoKSB7XG4gICAgICAgIHJldHVybiBwYl8xLk1lc3NhZ2UuZ2V0RmllbGRXaXRoRGVmYXVsdCh0aGlzLCAxLCBcIlwiKSBhcyBzdHJpbmc7XG4gICAgfVxuICAgIHNldCBmaWxlUGF0aCh2YWx1ZTogc3RyaW5nKSB7XG4gICAgICAgIHBiXzEuTWVzc2FnZS5zZXRGaWVsZCh0aGlzLCAxLCB2YWx1ZSk7XG4gICAgfVxuICAgIHN0YXRpYyBmcm9tT2JqZWN0KGRhdGE6IHtcbiAgICAgICAgZmlsZVBhdGg/OiBzdHJpbmc7XG4gICAgfSk6IE1vZGlmeUV2ZW50IHtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IG5ldyBNb2RpZnlFdmVudCh7fSk7XG4gICAgICAgIGlmIChkYXRhLmZpbGVQYXRoICE9IG51bGwpIHtcbiAgICAgICAgICAgIG1lc3NhZ2UuZmlsZVBhdGggPSBkYXRhLmZpbGVQYXRoO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH1cbiAgICB0b09iamVjdCgpIHtcbiAgICAgICAgY29uc3QgZGF0YToge1xuICAgICAgICAgICAgZmlsZVBhdGg/OiBzdHJpbmc7XG4gICAgICAgIH0gPSB7fTtcbiAgICAgICAgaWYgKHRoaXMuZmlsZVBhdGggIT0gbnVsbCkge1xuICAgICAgICAgICAgZGF0YS5maWxlUGF0aCA9IHRoaXMuZmlsZVBhdGg7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfVxuICAgIHNlcmlhbGl6ZSgpOiBVaW50OEFycmF5O1xuICAgIHNlcmlhbGl6ZSh3OiBwYl8xLkJpbmFyeVdyaXRlcik6IHZvaWQ7XG4gICAgc2VyaWFsaXplKHc/OiBwYl8xLkJpbmFyeVdyaXRlcik6IFVpbnQ4QXJyYXkgfCB2b2lkIHtcbiAgICAgICAgY29uc3Qgd3JpdGVyID0gdyB8fCBuZXcgcGJfMS5CaW5hcnlXcml0ZXIoKTtcbiAgICAgICAgaWYgKHRoaXMuZmlsZVBhdGgubGVuZ3RoKVxuICAgICAgICAgICAgd3JpdGVyLndyaXRlU3RyaW5nKDEsIHRoaXMuZmlsZVBhdGgpO1xuICAgICAgICBpZiAoIXcpXG4gICAgICAgICAgICByZXR1cm4gd3JpdGVyLmdldFJlc3VsdEJ1ZmZlcigpO1xuICAgIH1cbiAgICBzdGF0aWMgZGVzZXJpYWxpemUoYnl0ZXM6IFVpbnQ4QXJyYXkgfCBwYl8xLkJpbmFyeVJlYWRlcik6IE1vZGlmeUV2ZW50IHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gYnl0ZXMgaW5zdGFuY2VvZiBwYl8xLkJpbmFyeVJlYWRlciA/IGJ5dGVzIDogbmV3IHBiXzEuQmluYXJ5UmVhZGVyKGJ5dGVzKSwgbWVzc2FnZSA9IG5ldyBNb2RpZnlFdmVudCgpO1xuICAgICAgICB3aGlsZSAocmVhZGVyLm5leHRGaWVsZCgpKSB7XG4gICAgICAgICAgICBpZiAocmVhZGVyLmlzRW5kR3JvdXAoKSlcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIHN3aXRjaCAocmVhZGVyLmdldEZpZWxkTnVtYmVyKCkpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuZmlsZVBhdGggPSByZWFkZXIucmVhZFN0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OiByZWFkZXIuc2tpcEZpZWxkKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfVxuICAgIHNlcmlhbGl6ZUJpbmFyeSgpOiBVaW50OEFycmF5IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2VyaWFsaXplKCk7XG4gICAgfVxuICAgIHN0YXRpYyBkZXNlcmlhbGl6ZUJpbmFyeShieXRlczogVWludDhBcnJheSk6IE1vZGlmeUV2ZW50IHtcbiAgICAgICAgcmV0dXJuIE1vZGlmeUV2ZW50LmRlc2VyaWFsaXplKGJ5dGVzKTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgRmlsZU9wZW5FdmVudCBleHRlbmRzIHBiXzEuTWVzc2FnZSB7XG4gICAgI29uZV9vZl9kZWNsczogbnVtYmVyW11bXSA9IFtdO1xuICAgIGNvbnN0cnVjdG9yKGRhdGE/OiBhbnlbXSB8IHtcbiAgICAgICAgZmlsZVBhdGg/OiBzdHJpbmc7XG4gICAgfSkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICBwYl8xLk1lc3NhZ2UuaW5pdGlhbGl6ZSh0aGlzLCBBcnJheS5pc0FycmF5KGRhdGEpID8gZGF0YSA6IFtdLCAwLCAtMSwgW10sIHRoaXMuI29uZV9vZl9kZWNscyk7XG4gICAgICAgIGlmICghQXJyYXkuaXNBcnJheShkYXRhKSAmJiB0eXBlb2YgZGF0YSA9PSBcIm9iamVjdFwiKSB7XG4gICAgICAgICAgICBpZiAoXCJmaWxlUGF0aFwiIGluIGRhdGEgJiYgZGF0YS5maWxlUGF0aCAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmZpbGVQYXRoID0gZGF0YS5maWxlUGF0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXQgZmlsZVBhdGgoKSB7XG4gICAgICAgIHJldHVybiBwYl8xLk1lc3NhZ2UuZ2V0RmllbGRXaXRoRGVmYXVsdCh0aGlzLCAxLCBcIlwiKSBhcyBzdHJpbmc7XG4gICAgfVxuICAgIHNldCBmaWxlUGF0aCh2YWx1ZTogc3RyaW5nKSB7XG4gICAgICAgIHBiXzEuTWVzc2FnZS5zZXRGaWVsZCh0aGlzLCAxLCB2YWx1ZSk7XG4gICAgfVxuICAgIHN0YXRpYyBmcm9tT2JqZWN0KGRhdGE6IHtcbiAgICAgICAgZmlsZVBhdGg/OiBzdHJpbmc7XG4gICAgfSk6IEZpbGVPcGVuRXZlbnQge1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gbmV3IEZpbGVPcGVuRXZlbnQoe30pO1xuICAgICAgICBpZiAoZGF0YS5maWxlUGF0aCAhPSBudWxsKSB7XG4gICAgICAgICAgICBtZXNzYWdlLmZpbGVQYXRoID0gZGF0YS5maWxlUGF0aDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9XG4gICAgdG9PYmplY3QoKSB7XG4gICAgICAgIGNvbnN0IGRhdGE6IHtcbiAgICAgICAgICAgIGZpbGVQYXRoPzogc3RyaW5nO1xuICAgICAgICB9ID0ge307XG4gICAgICAgIGlmICh0aGlzLmZpbGVQYXRoICE9IG51bGwpIHtcbiAgICAgICAgICAgIGRhdGEuZmlsZVBhdGggPSB0aGlzLmZpbGVQYXRoO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkYXRhO1xuICAgIH1cbiAgICBzZXJpYWxpemUoKTogVWludDhBcnJheTtcbiAgICBzZXJpYWxpemUodzogcGJfMS5CaW5hcnlXcml0ZXIpOiB2b2lkO1xuICAgIHNlcmlhbGl6ZSh3PzogcGJfMS5CaW5hcnlXcml0ZXIpOiBVaW50OEFycmF5IHwgdm9pZCB7XG4gICAgICAgIGNvbnN0IHdyaXRlciA9IHcgfHwgbmV3IHBiXzEuQmluYXJ5V3JpdGVyKCk7XG4gICAgICAgIGlmICh0aGlzLmZpbGVQYXRoLmxlbmd0aClcbiAgICAgICAgICAgIHdyaXRlci53cml0ZVN0cmluZygxLCB0aGlzLmZpbGVQYXRoKTtcbiAgICAgICAgaWYgKCF3KVxuICAgICAgICAgICAgcmV0dXJuIHdyaXRlci5nZXRSZXN1bHRCdWZmZXIoKTtcbiAgICB9XG4gICAgc3RhdGljIGRlc2VyaWFsaXplKGJ5dGVzOiBVaW50OEFycmF5IHwgcGJfMS5CaW5hcnlSZWFkZXIpOiBGaWxlT3BlbkV2ZW50IHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gYnl0ZXMgaW5zdGFuY2VvZiBwYl8xLkJpbmFyeVJlYWRlciA/IGJ5dGVzIDogbmV3IHBiXzEuQmluYXJ5UmVhZGVyKGJ5dGVzKSwgbWVzc2FnZSA9IG5ldyBGaWxlT3BlbkV2ZW50KCk7XG4gICAgICAgIHdoaWxlIChyZWFkZXIubmV4dEZpZWxkKCkpIHtcbiAgICAgICAgICAgIGlmIChyZWFkZXIuaXNFbmRHcm91cCgpKVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgc3dpdGNoIChyZWFkZXIuZ2V0RmllbGROdW1iZXIoKSkge1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5maWxlUGF0aCA9IHJlYWRlci5yZWFkU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6IHJlYWRlci5za2lwRmllbGQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9XG4gICAgc2VyaWFsaXplQmluYXJ5KCk6IFVpbnQ4QXJyYXkge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXJpYWxpemUoKTtcbiAgICB9XG4gICAgc3RhdGljIGRlc2VyaWFsaXplQmluYXJ5KGJ5dGVzOiBVaW50OEFycmF5KTogRmlsZU9wZW5FdmVudCB7XG4gICAgICAgIHJldHVybiBGaWxlT3BlbkV2ZW50LmRlc2VyaWFsaXplKGJ5dGVzKTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgRW1wdHkgZXh0ZW5kcyBwYl8xLk1lc3NhZ2Uge1xuICAgICNvbmVfb2ZfZGVjbHM6IG51bWJlcltdW10gPSBbXTtcbiAgICBjb25zdHJ1Y3RvcihkYXRhPzogYW55W10gfCB7fSkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICBwYl8xLk1lc3NhZ2UuaW5pdGlhbGl6ZSh0aGlzLCBBcnJheS5pc0FycmF5KGRhdGEpID8gZGF0YSA6IFtdLCAwLCAtMSwgW10sIHRoaXMuI29uZV9vZl9kZWNscyk7XG4gICAgICAgIGlmICghQXJyYXkuaXNBcnJheShkYXRhKSAmJiB0eXBlb2YgZGF0YSA9PSBcIm9iamVjdFwiKSB7IH1cbiAgICB9XG4gICAgc3RhdGljIGZyb21PYmplY3QoZGF0YToge30pOiBFbXB0eSB7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBuZXcgRW1wdHkoe30pO1xuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9XG4gICAgdG9PYmplY3QoKSB7XG4gICAgICAgIGNvbnN0IGRhdGE6IHt9ID0ge307XG4gICAgICAgIHJldHVybiBkYXRhO1xuICAgIH1cbiAgICBzZXJpYWxpemUoKTogVWludDhBcnJheTtcbiAgICBzZXJpYWxpemUodzogcGJfMS5CaW5hcnlXcml0ZXIpOiB2b2lkO1xuICAgIHNlcmlhbGl6ZSh3PzogcGJfMS5CaW5hcnlXcml0ZXIpOiBVaW50OEFycmF5IHwgdm9pZCB7XG4gICAgICAgIGNvbnN0IHdyaXRlciA9IHcgfHwgbmV3IHBiXzEuQmluYXJ5V3JpdGVyKCk7XG4gICAgICAgIGlmICghdylcbiAgICAgICAgICAgIHJldHVybiB3cml0ZXIuZ2V0UmVzdWx0QnVmZmVyKCk7XG4gICAgfVxuICAgIHN0YXRpYyBkZXNlcmlhbGl6ZShieXRlczogVWludDhBcnJheSB8IHBiXzEuQmluYXJ5UmVhZGVyKTogRW1wdHkge1xuICAgICAgICBjb25zdCByZWFkZXIgPSBieXRlcyBpbnN0YW5jZW9mIHBiXzEuQmluYXJ5UmVhZGVyID8gYnl0ZXMgOiBuZXcgcGJfMS5CaW5hcnlSZWFkZXIoYnl0ZXMpLCBtZXNzYWdlID0gbmV3IEVtcHR5KCk7XG4gICAgICAgIHdoaWxlIChyZWFkZXIubmV4dEZpZWxkKCkpIHtcbiAgICAgICAgICAgIGlmIChyZWFkZXIuaXNFbmRHcm91cCgpKVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgc3dpdGNoIChyZWFkZXIuZ2V0RmllbGROdW1iZXIoKSkge1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6IHJlYWRlci5za2lwRmllbGQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9XG4gICAgc2VyaWFsaXplQmluYXJ5KCk6IFVpbnQ4QXJyYXkge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXJpYWxpemUoKTtcbiAgICB9XG4gICAgc3RhdGljIGRlc2VyaWFsaXplQmluYXJ5KGJ5dGVzOiBVaW50OEFycmF5KTogRW1wdHkge1xuICAgICAgICByZXR1cm4gRW1wdHkuZGVzZXJpYWxpemUoYnl0ZXMpO1xuICAgIH1cbn1cbmludGVyZmFjZSBHcnBjVW5hcnlTZXJ2aWNlSW50ZXJmYWNlPFAsIFI+IHtcbiAgICAobWVzc2FnZTogUCwgbWV0YWRhdGE6IGdycGNfMS5NZXRhZGF0YSwgb3B0aW9uczogZ3JwY18xLkNhbGxPcHRpb25zLCBjYWxsYmFjazogZ3JwY18xLnJlcXVlc3RDYWxsYmFjazxSPik6IGdycGNfMS5DbGllbnRVbmFyeUNhbGw7XG4gICAgKG1lc3NhZ2U6IFAsIG1ldGFkYXRhOiBncnBjXzEuTWV0YWRhdGEsIGNhbGxiYWNrOiBncnBjXzEucmVxdWVzdENhbGxiYWNrPFI+KTogZ3JwY18xLkNsaWVudFVuYXJ5Q2FsbDtcbiAgICAobWVzc2FnZTogUCwgb3B0aW9uczogZ3JwY18xLkNhbGxPcHRpb25zLCBjYWxsYmFjazogZ3JwY18xLnJlcXVlc3RDYWxsYmFjazxSPik6IGdycGNfMS5DbGllbnRVbmFyeUNhbGw7XG4gICAgKG1lc3NhZ2U6IFAsIGNhbGxiYWNrOiBncnBjXzEucmVxdWVzdENhbGxiYWNrPFI+KTogZ3JwY18xLkNsaWVudFVuYXJ5Q2FsbDtcbn1cbmludGVyZmFjZSBHcnBjU3RyZWFtU2VydmljZUludGVyZmFjZTxQLCBSPiB7XG4gICAgKG1lc3NhZ2U6IFAsIG1ldGFkYXRhOiBncnBjXzEuTWV0YWRhdGEsIG9wdGlvbnM/OiBncnBjXzEuQ2FsbE9wdGlvbnMpOiBncnBjXzEuQ2xpZW50UmVhZGFibGVTdHJlYW08Uj47XG4gICAgKG1lc3NhZ2U6IFAsIG9wdGlvbnM/OiBncnBjXzEuQ2FsbE9wdGlvbnMpOiBncnBjXzEuQ2xpZW50UmVhZGFibGVTdHJlYW08Uj47XG59XG5pbnRlcmZhY2UgR3JwV3JpdGFibGVTZXJ2aWNlSW50ZXJmYWNlPFAsIFI+IHtcbiAgICAobWV0YWRhdGE6IGdycGNfMS5NZXRhZGF0YSwgb3B0aW9uczogZ3JwY18xLkNhbGxPcHRpb25zLCBjYWxsYmFjazogZ3JwY18xLnJlcXVlc3RDYWxsYmFjazxSPik6IGdycGNfMS5DbGllbnRXcml0YWJsZVN0cmVhbTxQPjtcbiAgICAobWV0YWRhdGE6IGdycGNfMS5NZXRhZGF0YSwgY2FsbGJhY2s6IGdycGNfMS5yZXF1ZXN0Q2FsbGJhY2s8Uj4pOiBncnBjXzEuQ2xpZW50V3JpdGFibGVTdHJlYW08UD47XG4gICAgKG9wdGlvbnM6IGdycGNfMS5DYWxsT3B0aW9ucywgY2FsbGJhY2s6IGdycGNfMS5yZXF1ZXN0Q2FsbGJhY2s8Uj4pOiBncnBjXzEuQ2xpZW50V3JpdGFibGVTdHJlYW08UD47XG4gICAgKGNhbGxiYWNrOiBncnBjXzEucmVxdWVzdENhbGxiYWNrPFI+KTogZ3JwY18xLkNsaWVudFdyaXRhYmxlU3RyZWFtPFA+O1xufVxuaW50ZXJmYWNlIEdycGNDaHVua1NlcnZpY2VJbnRlcmZhY2U8UCwgUj4ge1xuICAgIChtZXRhZGF0YTogZ3JwY18xLk1ldGFkYXRhLCBvcHRpb25zPzogZ3JwY18xLkNhbGxPcHRpb25zKTogZ3JwY18xLkNsaWVudER1cGxleFN0cmVhbTxQLCBSPjtcbiAgICAob3B0aW9ucz86IGdycGNfMS5DYWxsT3B0aW9ucyk6IGdycGNfMS5DbGllbnREdXBsZXhTdHJlYW08UCwgUj47XG59XG5pbnRlcmZhY2UgR3JwY1Byb21pc2VTZXJ2aWNlSW50ZXJmYWNlPFAsIFI+IHtcbiAgICAobWVzc2FnZTogUCwgbWV0YWRhdGE6IGdycGNfMS5NZXRhZGF0YSwgb3B0aW9ucz86IGdycGNfMS5DYWxsT3B0aW9ucyk6IFByb21pc2U8Uj47XG4gICAgKG1lc3NhZ2U6IFAsIG9wdGlvbnM/OiBncnBjXzEuQ2FsbE9wdGlvbnMpOiBQcm9taXNlPFI+O1xufVxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIFVuaW1wbGVtZW50ZWRPYnNpZGlhbkV2ZW50U3RyZWFtU2VydmljZSB7XG4gICAgc3RhdGljIGRlZmluaXRpb24gPSB7XG4gICAgICAgIHN0cmVhbUV2ZW50czoge1xuICAgICAgICAgICAgcGF0aDogXCIvT2JzaWRpYW5FdmVudFN0cmVhbS9zdHJlYW1FdmVudHNcIixcbiAgICAgICAgICAgIHJlcXVlc3RTdHJlYW06IHRydWUsXG4gICAgICAgICAgICByZXNwb25zZVN0cmVhbTogZmFsc2UsXG4gICAgICAgICAgICByZXF1ZXN0U2VyaWFsaXplOiAobWVzc2FnZTogT2JzaWRpYW5FdmVudCkgPT4gQnVmZmVyLmZyb20obWVzc2FnZS5zZXJpYWxpemUoKSksXG4gICAgICAgICAgICByZXF1ZXN0RGVzZXJpYWxpemU6IChieXRlczogQnVmZmVyKSA9PiBPYnNpZGlhbkV2ZW50LmRlc2VyaWFsaXplKG5ldyBVaW50OEFycmF5KGJ5dGVzKSksXG4gICAgICAgICAgICByZXNwb25zZVNlcmlhbGl6ZTogKG1lc3NhZ2U6IEVtcHR5KSA9PiBCdWZmZXIuZnJvbShtZXNzYWdlLnNlcmlhbGl6ZSgpKSxcbiAgICAgICAgICAgIHJlc3BvbnNlRGVzZXJpYWxpemU6IChieXRlczogQnVmZmVyKSA9PiBFbXB0eS5kZXNlcmlhbGl6ZShuZXcgVWludDhBcnJheShieXRlcykpXG4gICAgICAgIH1cbiAgICB9O1xuICAgIFttZXRob2Q6IHN0cmluZ106IGdycGNfMS5VbnR5cGVkSGFuZGxlQ2FsbDtcbiAgICBhYnN0cmFjdCBzdHJlYW1FdmVudHMoY2FsbDogZ3JwY18xLlNlcnZlclJlYWRhYmxlU3RyZWFtPE9ic2lkaWFuRXZlbnQsIEVtcHR5PiwgY2FsbGJhY2s6IGdycGNfMS5zZW5kVW5hcnlEYXRhPEVtcHR5Pik6IHZvaWQ7XG59XG5leHBvcnQgY2xhc3MgT2JzaWRpYW5FdmVudFN0cmVhbUNsaWVudCBleHRlbmRzIGdycGNfMS5tYWtlR2VuZXJpY0NsaWVudENvbnN0cnVjdG9yKFVuaW1wbGVtZW50ZWRPYnNpZGlhbkV2ZW50U3RyZWFtU2VydmljZS5kZWZpbml0aW9uLCBcIk9ic2lkaWFuRXZlbnRTdHJlYW1cIiwge30pIHtcbiAgICBjb25zdHJ1Y3RvcihhZGRyZXNzOiBzdHJpbmcsIGNyZWRlbnRpYWxzOiBncnBjXzEuQ2hhbm5lbENyZWRlbnRpYWxzLCBvcHRpb25zPzogUGFydGlhbDxncnBjXzEuQ2hhbm5lbE9wdGlvbnM+KSB7XG4gICAgICAgIHN1cGVyKGFkZHJlc3MsIGNyZWRlbnRpYWxzLCBvcHRpb25zKTtcbiAgICB9XG4gICAgc3RyZWFtRXZlbnRzOiBHcnBXcml0YWJsZVNlcnZpY2VJbnRlcmZhY2U8T2JzaWRpYW5FdmVudCwgRW1wdHk+ID0gKG1ldGFkYXRhOiBncnBjXzEuTWV0YWRhdGEgfCBncnBjXzEuQ2FsbE9wdGlvbnMgfCBncnBjXzEucmVxdWVzdENhbGxiYWNrPEVtcHR5Piwgb3B0aW9ucz86IGdycGNfMS5DYWxsT3B0aW9ucyB8IGdycGNfMS5yZXF1ZXN0Q2FsbGJhY2s8RW1wdHk+LCBjYWxsYmFjaz86IGdycGNfMS5yZXF1ZXN0Q2FsbGJhY2s8RW1wdHk+KTogZ3JwY18xLkNsaWVudFdyaXRhYmxlU3RyZWFtPE9ic2lkaWFuRXZlbnQ+ID0+IHtcbiAgICAgICAgcmV0dXJuIHN1cGVyLnN0cmVhbUV2ZW50cyhtZXRhZGF0YSwgb3B0aW9ucywgY2FsbGJhY2spO1xuICAgIH07XG59XG4iXX0=